{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"order-management\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  class: \"order-table\"\n};\nconst _hoisted_5 = {\n  class: \"user-info\"\n};\nconst _hoisted_6 = {\n  class: \"email\"\n};\nconst _hoisted_7 = {\n  class: \"order-items\"\n};\nconst _hoisted_8 = {\n  class: \"item-info\"\n};\nconst _hoisted_9 = {\n  class: \"item-name\"\n};\nconst _hoisted_10 = {\n  class: \"item-details\"\n};\nconst _hoisted_11 = {\n  class: \"item-quantity\"\n};\nconst _hoisted_12 = {\n  class: \"item-price\"\n};\nconst _hoisted_13 = {\n  class: \"item-total\"\n};\nconst _hoisted_14 = {\n  class: \"price\"\n};\nconst _hoisted_15 = {\n  class: \"time-info\"\n};\nconst _hoisted_16 = {\n  class: \"time\"\n};\nconst _hoisted_17 = {\n  class: \"order-actions\"\n};\nconst _hoisted_18 = [\"onClick\"];\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = {\n  key: 2\n};\nconst _hoisted_22 = {\n  key: 3,\n  class: \"dialog-overlay\"\n};\nconst _hoisted_23 = {\n  class: \"dialog\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", null, \"订单管理\", -1 /* HOISTED */)), _ctx.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"加载中...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_cache[1] || (_cache[1] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"订单ID\"), _createElementVNode(\"th\", null, \"用户名\"), _createElementVNode(\"th\", null, \"订单详情\"), _createElementVNode(\"th\", null, \"总价\"), _createElementVNode(\"th\", null, \"状态\"), _createElementVNode(\"th\", null, \"创建时间\"), _createElementVNode(\"th\", null, \"操作\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.orders, order => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: order.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(order.id), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", null, _toDisplayString(order.username), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, _toDisplayString(order.email), 1 /* TEXT */)])]), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(order.items, item => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: item.menu_item_id,\n        class: \"order-item\"\n      }, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"span\", _hoisted_9, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"span\", _hoisted_11, \"数量: \" + _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_12, \"单价: ¥\" + _toDisplayString(item.price), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_13, \"小计: ¥\" + _toDisplayString(item.quantity * item.price), 1 /* TEXT */)])])]);\n    }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"td\", _hoisted_14, \"¥\" + _toDisplayString(order.total_price), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass(['status-tag', 'status-' + order.status])\n    }, _toDisplayString(_ctx.statusText[order.status]), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", null, _toDisplayString(_ctx.formatDate(order.created_at).date), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_16, _toDisplayString(_ctx.formatDate(order.created_at).time), 1 /* TEXT */)])]), _createElementVNode(\"td\", _hoisted_17, [parseInt(order.status) === 0 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"btn-confirm\",\n      onClick: $event => _ctx.handleButtonClick(order)\n    }, \"开始处理\", 8 /* PROPS */, _hoisted_18)) : _createCommentVNode(\"v-if\", true), parseInt(order.status) === 1 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      class: \"btn-complete\",\n      onClick: $event => _ctx.handleButtonClick(order)\n    }, \"完成订单\", 8 /* PROPS */, _hoisted_19)) : _createCommentVNode(\"v-if\", true), parseInt(order.status) === 2 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 2,\n      class: \"btn-delete\",\n      onClick: $event => _ctx.handleDeleteOrder(order)\n    }, \"删除订单\", 8 /* PROPS */, _hoisted_20)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])), _ctx.orders.length === 0 && !_ctx.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, _cache[2] || (_cache[2] = [_createElementVNode(\"p\", {\n    class: \"empty-message\"\n  }, \"没有找到订单。\", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 对话框 \"), _ctx.showDialog ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"p\", null, _toDisplayString(_ctx.dialogMessage), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.closeDialog && _ctx.closeDialog(...args))\n  }, \"确定\")])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_ctx","loading","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","orders","order","id","_toDisplayString","_hoisted_5","username","_hoisted_6","email","_hoisted_7","items","item","menu_item_id","_hoisted_8","_hoisted_9","name","_hoisted_10","_hoisted_11","quantity","_hoisted_12","price","_hoisted_13","_hoisted_14","total_price","_normalizeClass","status","statusText","_hoisted_15","formatDate","created_at","date","_hoisted_16","time","_hoisted_17","parseInt","onClick","$event","handleButtonClick","_hoisted_18","_createCommentVNode","_hoisted_19","handleDeleteOrder","_hoisted_20","length","_hoisted_21","_cache","showDialog","_hoisted_22","_hoisted_23","dialogMessage","args","closeDialog"],"sources":["C:\\Users\\拯救者\\Desktop\\text\\community-service\\src\\components\\OrderManagement.vue"],"sourcesContent":["<template>\n  <div class=\"order-management\">\n    <h2>订单管理</h2>\n    <div v-if=\"loading\" class=\"loading\">加载中...</div>\n    <div v-else>\n      <table class=\"order-table\">\n        <thead>\n          <tr>\n            <th>订单ID</th>\n            <th>用户名</th>\n            <th>订单详情</th>\n            <th>总价</th>\n            <th>状态</th>\n            <th>创建时间</th>\n            <th>操作</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"order in orders\" :key=\"order.id\">\n            <td>{{ order.id }}</td>\n            <td>\n              <div class=\"user-info\">\n                <div>{{ order.username }}</div>\n                <div class=\"email\">{{ order.email }}</div>\n              </div>\n            </td>\n            <td>\n              <div class=\"order-items\">\n                <div v-for=\"item in order.items\" :key=\"item.menu_item_id\" class=\"order-item\">\n                  <div class=\"item-info\">\n                    <span class=\"item-name\">{{ item.name }}</span>\n                    <div class=\"item-details\">\n                      <span class=\"item-quantity\">数量: {{ item.quantity }}</span>\n                      <span class=\"item-price\">单价: ¥{{ item.price }}</span>\n                      <span class=\"item-total\">小计: ¥{{ item.quantity * item.price }}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n            <td class=\"price\">¥{{ order.total_price }}</td>\n            <td>\n              <span :class=\"['status-tag', 'status-' + order.status]\">\n                {{ statusText[order.status] }}\n              </span>\n            </td>\n            <td>\n              <div class=\"time-info\">\n                <div>{{ formatDate(order.created_at).date }}</div>\n                <div class=\"time\">{{ formatDate(order.created_at).time }}</div>\n              </div>\n            </td>\n            <td class=\"order-actions\">\n              <button \n                v-if=\"parseInt(order.status) === 0\" \n                class=\"btn-confirm\"\n                @click=\"handleButtonClick(order)\"\n              >开始处理</button>\n\n              <button \n                v-if=\"parseInt(order.status) === 1\" \n                class=\"btn-complete\"\n                @click=\"handleButtonClick(order)\"\n              >完成订单</button>\n\n              <button \n                v-if=\"parseInt(order.status) === 2\" \n                class=\"btn-delete\"\n                @click=\"handleDeleteOrder(order)\"\n              >删除订单</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div v-if=\"orders.length === 0 && !loading\">\n      <p class=\"empty-message\">没有找到订单。</p>\n    </div>\n\n    <!-- 对话框 -->\n    <div v-if=\"showDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <p>{{ dialogMessage }}</p>\n        <button @click=\"closeDialog\">确定</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// Script remains the same as before\n</script>\n\n<style scoped>\n.order-management {\n  padding: 20px;\n  font-family: Arial, sans-serif;\n}\n\nh2 {\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 24px;\n}\n\n.loading {\n  text-align: center;\n  font-size: 18px;\n  color: #999;\n}\n\n.order-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.order-table th,\n.order-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.order-table th {\n  background-color: #f4f4f4;\n}\n\n.order-items .order-item {\n  margin-bottom: 10px;\n}\n\n.order-items .item-info {\n  display: flex;\n  justify-content: space-between;\n}\n\n.order-items .item-details {\n  font-size: 12px;\n  color: #888;\n}\n\n.price {\n  font-weight: bold;\n}\n\n.status-tag {\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 14px;\n}\n\n.status-0 {\n  background-color: #ff9800;\n  color: white;\n}\n\n.status-1 {\n  background-color: #2196F3;\n  color: white;\n}\n\n.status-2 {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.status-3 {\n  background-color: #f44336;\n  color: white;\n}\n\n.time-info {\n  font-size: 12px;\n  color: #888;\n}\n\n.empty-message {\n  text-align: center;\n  color: #999;\n  font-size: 18px;\n}\n\n.order-actions button {\n  padding: 6px 12px;\n  border: none;\n  cursor: pointer;\n  font-size: 14px;\n  margin-right: 10px;\n}\n\n.btn-confirm {\n  background-color: #ff9800;\n  color: white;\n}\n\n.btn-complete {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.btn-delete {\n  background-color: #f44336;\n  color: white;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  text-align: center;\n}\n\n.dialog button {\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .order-table th,\n  .order-table td {\n    padding: 8px;\n  }\n\n  .order-actions button {\n    font-size: 12px;\n    padding: 4px 8px;\n  }\n\n  .time-info {\n    font-size: 10px;\n  }\n\n  .order-items .order-item {\n    margin-bottom: 8px;\n  }\n\n  .order-items .item-info {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .item-details {\n    font-size: 10px;\n  }\n\n  .order-management {\n    padding: 10px;\n  }\n}\n\n@media (max-width: 480px) {\n  h2 {\n    font-size: 20px;\n  }\n\n  .order-table th,\n  .order-table td {\n    padding: 6px;\n  }\n\n  .order-actions button {\n    font-size: 12px;\n    padding: 4px 6px;\n  }\n\n  .dialog button {\n    padding: 6px 12px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}