{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { handleApiError } from '../utils/errorHandler';\nconst API = process.env.VUE_APP_API_URL;\nexport default {\n  name: 'UserRegister',\n  data() {\n    return {\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      loading: false,\n      showPassword: false,\n      showConfirmPassword: false\n    };\n  },\n  computed: {\n    isPasswordMatch() {\n      return this.password === this.confirmPassword;\n    },\n    passwordStrength() {\n      if (!this.password) return 0;\n      let strength = 0;\n\n      // 长度检查\n      if (this.password.length >= 8) strength += 25;\n\n      // 包含数字\n      if (/\\d/.test(this.password)) strength += 25;\n\n      // 包含小写字母\n      if (/[a-z]/.test(this.password)) strength += 25;\n\n      // 包含大写字母或特殊字符\n      if (/[A-Z]/.test(this.password) || /[^A-Za-z0-9]/.test(this.password)) strength += 25;\n      return strength;\n    },\n    strengthClass() {\n      if (this.passwordStrength <= 25) return 'weak';\n      if (this.passwordStrength <= 50) return 'medium';\n      if (this.passwordStrength <= 75) return 'good';\n      return 'strong';\n    },\n    strengthText() {\n      if (this.passwordStrength <= 25) return '弱';\n      if (this.passwordStrength <= 50) return '中';\n      if (this.passwordStrength <= 75) return '良好';\n      return '强';\n    }\n  },\n  methods: {\n    async register() {\n      if (this.password !== this.confirmPassword) {\n        alert('两次输入的密码不一致');\n        return;\n      }\n      this.loading = true;\n      try {\n        await axios.post(`${API}/register`, {\n          username: this.username,\n          email: this.email,\n          password: this.password\n        });\n        alert('注册成功！请登录');\n        this.$router.push('/login');\n      } catch (error) {\n        handleApiError(error, () => {\n          if (error.response?.data?.message) {\n            alert(error.response.data.message);\n          } else {\n            alert('注册失败，请重试');\n          }\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","handleApiError","API","process","env","VUE_APP_API_URL","name","data","username","email","password","confirmPassword","loading","showPassword","showConfirmPassword","computed","isPasswordMatch","passwordStrength","strength","length","test","strengthClass","strengthText","methods","register","alert","post","$router","push","error","response","message"],"sources":["C:\\Users\\拯救者\\Desktop\\text\\community-service\\src\\components\\UserRegister.vue"],"sourcesContent":["<template>\n  <div class=\"register-page\">\n    <div class=\"register-container\">\n      <div class=\"register-header\">\n        <div class=\"logo-container\">\n          <span class=\"logo-icon\">✨</span>\n        </div>\n        <h2>创建账户</h2>\n        <p class=\"subtitle\">加入我们的社区</p>\n      </div>\n\n      <form @submit.prevent=\"register\" class=\"register-form\">\n        <div class=\"form-group\">\n          <label>\n            <span class=\"label-icon\">👤</span>\n            用户名\n          </label>\n          <input \n            type=\"text\" \n            v-model=\"username\" \n            required \n            placeholder=\"请输入用户名\"\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label>\n            <span class=\"label-icon\">📧</span>\n            邮箱\n          </label>\n          <input \n            type=\"email\" \n            v-model=\"email\" \n            required \n            placeholder=\"请输入邮箱地址\"\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label>\n            <span class=\"label-icon\">🔒</span>\n            密码\n          </label>\n          <div class=\"password-input\">\n            <input \n              :type=\"showPassword ? 'text' : 'password'\"\n              v-model=\"password\" \n              required \n              placeholder=\"请输入密码\"\n            />\n            <button \n              type=\"button\" \n              class=\"toggle-password\"\n              @click=\"showPassword = !showPassword\"\n            >\n              {{ showPassword ? '👁️' : '👁️‍🗨️' }}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <label>\n            <span class=\"label-icon\">🔐</span>\n            确认密码\n          </label>\n          <div class=\"password-input\">\n            <input \n              :type=\"showConfirmPassword ? 'text' : 'password'\"\n              v-model=\"confirmPassword\" \n              required \n              placeholder=\"请再次输入密码\"\n            />\n            <button \n              type=\"button\" \n              class=\"toggle-password\"\n              @click=\"showConfirmPassword = !showConfirmPassword\"\n            >\n              {{ showConfirmPassword ? '👁️' : '👁️‍🗨️' }}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"password-strength\" v-if=\"password\">\n          <div class=\"strength-label\">密码强度：</div>\n          <div class=\"strength-meter\">\n            <div \n              class=\"strength-bar\" \n              :style=\"{ width: passwordStrength + '%' }\"\n              :class=\"strengthClass\"\n            ></div>\n          </div>\n          <div class=\"strength-text\" :class=\"strengthClass\">{{ strengthText }}</div>\n        </div>\n\n        <div class=\"button-container\">\n          <button type=\"submit\" class=\"register-button\" :disabled=\"loading || !isPasswordMatch\">\n            <span class=\"button-icon\">{{ loading ? '⌛' : '✨' }}</span>\n            {{ loading ? '注册中...' : '注册' }}\n          </button>\n          <p class=\"login-link\">\n            已有账号？\n            <router-link to=\"/login\">立即登录</router-link>\n          </p>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { handleApiError } from '../utils/errorHandler';\nconst API = process.env.VUE_APP_API_URL;\n\nexport default {\n  name: 'UserRegister',\n  data() {\n    return {\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      loading: false,\n      showPassword: false,\n      showConfirmPassword: false\n    };\n  },\n  computed: {\n    isPasswordMatch() {\n      return this.password === this.confirmPassword;\n    },\n    passwordStrength() {\n      if (!this.password) return 0;\n      let strength = 0;\n      \n      // 长度检查\n      if (this.password.length >= 8) strength += 25;\n      \n      // 包含数字\n      if (/\\d/.test(this.password)) strength += 25;\n      \n      // 包含小写字母\n      if (/[a-z]/.test(this.password)) strength += 25;\n      \n      // 包含大写字母或特殊字符\n      if (/[A-Z]/.test(this.password) || /[^A-Za-z0-9]/.test(this.password)) strength += 25;\n      \n      return strength;\n    },\n    strengthClass() {\n      if (this.passwordStrength <= 25) return 'weak';\n      if (this.passwordStrength <= 50) return 'medium';\n      if (this.passwordStrength <= 75) return 'good';\n      return 'strong';\n    },\n    strengthText() {\n      if (this.passwordStrength <= 25) return '弱';\n      if (this.passwordStrength <= 50) return '中';\n      if (this.passwordStrength <= 75) return '良好';\n      return '强';\n    }\n  },\n  methods: {\n    async register() {\n      if (this.password !== this.confirmPassword) {\n        alert('两次输入的密码不一致');\n        return;\n      }\n\n      this.loading = true;\n      try {\n        await axios.post(`${API}/register`, {\n          username: this.username,\n          email: this.email,\n          password: this.password\n        });\n\n        alert('注册成功！请登录');\n        this.$router.push('/login');\n      } catch (error) {\n        handleApiError(error, () => {\n          if (error.response?.data?.message) {\n            alert(error.response.data.message);\n          } else {\n            alert('注册失败，请重试');\n          }\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n:root {\n  --primary-color: #4CAF50;\n  --secondary-color: #2196F3;\n  --background-color: #f5f7fa;\n  --text-primary: #333333;\n  --text-secondary: #666666;\n  --border-radius: 12px;\n  --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  --transition-speed: 0.3s;\n}\n\n.register-page {\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n  padding: 20px;\n}\n\n.register-container {\n  background: white;\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  width: 100%;\n  max-width: 400px;\n  padding: 2rem;\n  animation: slideUp 0.5s ease-out;\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.register-header {\n  text-align: center;\n  margin-bottom: 2rem;\n}\n\n.logo-container {\n  width: 80px;\n  height: 80px;\n  margin: 0 auto 1rem;\n  background: var(--background-color);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.logo-icon {\n  font-size: 2.5rem;\n}\n\n.register-header h2 {\n  color: var(--text-primary);\n  margin: 0;\n  font-size: 1.8rem;\n}\n\n.subtitle {\n  color: var(--text-secondary);\n  margin-top: 0.5rem;\n}\n\n.register-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.form-group label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.label-icon {\n  font-size: 1.2rem;\n}\n\n.password-input {\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n\n.toggle-password {\n  position: absolute;\n  right: 10px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  font-size: 1.2rem;\n}\n\ninput {\n  padding: 0.8rem 1rem;\n  border: 1px solid #ddd;\n  border-radius: var(--border-radius);\n  font-size: 1rem;\n  transition: all var(--transition-speed);\n}\n\ninput:focus {\n  outline: none;\n  border-color: var(--primary-color);\n  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.1);\n}\n\n.password-strength {\n  margin-top: -0.5rem;\n}\n\n.strength-label {\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n  margin-bottom: 0.3rem;\n}\n\n.strength-meter {\n  height: 4px;\n  background-color: #eee;\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n.strength-bar {\n  height: 100%;\n  transition: width 0.3s ease-out;\n}\n\n.strength-bar.weak { background-color: #ff4444; }\n.strength-bar.medium { background-color: #ffbb33; }\n.strength-bar.good { background-color: #00C851; }\n.strength-bar.strong { background-color: #007E33; }\n\n.strength-text {\n  font-size: 0.8rem;\n  margin-top: 0.3rem;\n  text-align: right;\n}\n\n.strength-text.weak { color: #ff4444; }\n.strength-text.medium { color: #ffbb33; }\n.strength-text.good { color: #00C851; }\n.strength-text.strong { color: #007E33; }\n\n.button-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  width: 100%;\n  margin-top: 2rem;\n}\n\n.register-button {\n  width: 100%;\n  max-width: 300px;\n  padding: 0.8rem;\n  background: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: var(--border-radius);\n  font-size: 1rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  transition: all var(--transition-speed);\n}\n\n.register-button:hover {\n  background: #43a047;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);\n}\n\n.register-button:disabled {\n  background: #cccccc;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n.button-icon {\n  font-size: 1.2rem;\n}\n\n.login-link {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.login-link a {\n  color: var(--primary-color);\n  text-decoration: none;\n  font-weight: 500;\n  transition: color var(--transition-speed);\n}\n\n.login-link a:hover {\n  color: #43a047;\n}\n\n/* 暗色模式支持 */\n@media (prefers-color-scheme: dark) {\n  .register-page {\n    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);\n  }\n\n  .register-container {\n    background: #2d2d2d;\n  }\n\n  .logo-container {\n    background: rgba(255, 255, 255, 0.1);\n  }\n\n  .register-header h2 {\n    color: #ffffff;\n  }\n\n  .subtitle {\n    color: #b0b0b0;\n  }\n\n  input {\n    background: #363636;\n    border-color: #4a4a4a;\n    color: white;\n  }\n\n  input:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);\n  }\n\n  .strength-meter {\n    background-color: #444;\n  }\n\n  .login-link {\n    color: #b0b0b0;\n  }\n\n  .toggle-password {\n    color: #b0b0b0;\n  }\n}\n\n/* 响应式设计 */\n@media screen and (max-width: 480px) {\n  .register-container {\n    padding: 1.5rem;\n  }\n\n  .logo-container {\n    width: 60px;\n    height: 60px;\n  }\n\n  .logo-icon {\n    font-size: 2rem;\n  }\n\n  .register-header h2 {\n    font-size: 1.5rem;\n  }\n\n  input {\n    font-size: 0.9rem;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}