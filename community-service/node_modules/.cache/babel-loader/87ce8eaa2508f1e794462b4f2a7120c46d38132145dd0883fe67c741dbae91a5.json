{"ast":null,"code":"\n// Script remains the same as before","map":{"version":3,"names":[],"sources":["C:\\Users\\拯救者\\Desktop\\text\\community-service\\src\\components\\OrderManagement.vue"],"sourcesContent":["<template>\n  <div class=\"order-management\">\n    <h2>订单管理</h2>\n    <div v-if=\"loading\" class=\"loading\">加载中...</div>\n    <div v-else>\n      <table class=\"order-table\">\n        <thead>\n          <tr>\n            <th>订单ID</th>\n            <th>用户名</th>\n            <th>订单详情</th>\n            <th>总价</th>\n            <th>状态</th>\n            <th>创建时间</th>\n            <th>操作</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"order in orders\" :key=\"order.id\">\n            <td>{{ order.id }}</td>\n            <td>\n              <div class=\"user-info\">\n                <div>{{ order.username }}</div>\n                <div class=\"email\">{{ order.email }}</div>\n              </div>\n            </td>\n            <td>\n              <div class=\"order-items\">\n                <div v-for=\"item in order.items\" :key=\"item.menu_item_id\" class=\"order-item\">\n                  <div class=\"item-info\">\n                    <span class=\"item-name\">{{ item.name }}</span>\n                    <div class=\"item-details\">\n                      <span class=\"item-quantity\">数量: {{ item.quantity }}</span>\n                      <span class=\"item-price\">单价: ¥{{ item.price }}</span>\n                      <span class=\"item-total\">小计: ¥{{ item.quantity * item.price }}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n            <td class=\"price\">¥{{ order.total_price }}</td>\n            <td>\n              <span :class=\"['status-tag', 'status-' + order.status]\">\n                {{ statusText[order.status] }}\n              </span>\n            </td>\n            <td>\n              <div class=\"time-info\">\n                <div>{{ formatDate(order.created_at).date }}</div>\n                <div class=\"time\">{{ formatDate(order.created_at).time }}</div>\n              </div>\n            </td>\n            <td class=\"order-actions\">\n              <button \n                v-if=\"parseInt(order.status) === 0\" \n                class=\"btn-confirm\"\n                @click=\"handleButtonClick(order)\"\n              >开始处理</button>\n\n              <button \n                v-if=\"parseInt(order.status) === 1\" \n                class=\"btn-complete\"\n                @click=\"handleButtonClick(order)\"\n              >完成订单</button>\n\n              <button \n                v-if=\"parseInt(order.status) === 2\" \n                class=\"btn-delete\"\n                @click=\"handleDeleteOrder(order)\"\n              >删除订单</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div v-if=\"orders.length === 0 && !loading\">\n      <p class=\"empty-message\">没有找到订单。</p>\n    </div>\n\n    <!-- 对话框 -->\n    <div v-if=\"showDialog\" class=\"dialog-overlay\">\n      <div class=\"dialog\">\n        <p>{{ dialogMessage }}</p>\n        <button @click=\"closeDialog\">确定</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// Script remains the same as before\n</script>\n\n<style scoped>\n.order-management {\n  padding: 20px;\n  font-family: Arial, sans-serif;\n}\n\nh2 {\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 24px;\n}\n\n.loading {\n  text-align: center;\n  font-size: 18px;\n  color: #999;\n}\n\n.order-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.order-table th,\n.order-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.order-table th {\n  background-color: #f4f4f4;\n}\n\n.order-items .order-item {\n  margin-bottom: 10px;\n}\n\n.order-items .item-info {\n  display: flex;\n  justify-content: space-between;\n}\n\n.order-items .item-details {\n  font-size: 12px;\n  color: #888;\n}\n\n.price {\n  font-weight: bold;\n}\n\n.status-tag {\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 14px;\n}\n\n.status-0 {\n  background-color: #ff9800;\n  color: white;\n}\n\n.status-1 {\n  background-color: #2196F3;\n  color: white;\n}\n\n.status-2 {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.status-3 {\n  background-color: #f44336;\n  color: white;\n}\n\n.time-info {\n  font-size: 12px;\n  color: #888;\n}\n\n.empty-message {\n  text-align: center;\n  color: #999;\n  font-size: 18px;\n}\n\n.order-actions button {\n  padding: 6px 12px;\n  border: none;\n  cursor: pointer;\n  font-size: 14px;\n  margin-right: 10px;\n}\n\n.btn-confirm {\n  background-color: #ff9800;\n  color: white;\n}\n\n.btn-complete {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.btn-delete {\n  background-color: #f44336;\n  color: white;\n}\n\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog {\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  text-align: center;\n}\n\n.dialog button {\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .order-table th,\n  .order-table td {\n    padding: 8px;\n  }\n\n  .order-actions button {\n    font-size: 12px;\n    padding: 4px 8px;\n  }\n\n  .time-info {\n    font-size: 10px;\n  }\n\n  .order-items .order-item {\n    margin-bottom: 8px;\n  }\n\n  .order-items .item-info {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .item-details {\n    font-size: 10px;\n  }\n\n  .order-management {\n    padding: 10px;\n  }\n}\n\n@media (max-width: 480px) {\n  h2 {\n    font-size: 20px;\n  }\n\n  .order-table th,\n  .order-table td {\n    padding: 6px;\n  }\n\n  .order-actions button {\n    font-size: 12px;\n    padding: 4px 6px;\n  }\n\n  .dialog button {\n    padding: 6px 12px;\n  }\n}\n</style>\n"],"mappings":";AA0FA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}