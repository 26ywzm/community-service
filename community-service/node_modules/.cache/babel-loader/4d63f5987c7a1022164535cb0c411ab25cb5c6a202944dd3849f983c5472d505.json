{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { handleApiError } from '../utils/errorHandler';\nconst API = process.env.VUE_APP_API_URL;\nexport default {\n  name: 'UserRegister',\n  data() {\n    return {\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      loading: false,\n      showPassword: false,\n      showConfirmPassword: false\n    };\n  },\n  computed: {\n    isPasswordMatch() {\n      return this.password === this.confirmPassword;\n    },\n    passwordStrength() {\n      if (!this.password) return 0;\n      let strength = 0;\n\n      // 长度检查\n      if (this.password.length >= 8) strength += 25;\n\n      // 包含数字\n      if (/\\d/.test(this.password)) strength += 25;\n\n      // 包含小写字母\n      if (/[a-z]/.test(this.password)) strength += 25;\n\n      // 包含大写字母或特殊字符\n      if (/[A-Z]/.test(this.password) || /[^A-Za-z0-9]/.test(this.password)) strength += 25;\n      return strength;\n    },\n    strengthClass() {\n      if (this.passwordStrength <= 25) return 'weak';\n      if (this.passwordStrength <= 50) return 'medium';\n      if (this.passwordStrength <= 75) return 'good';\n      return 'strong';\n    },\n    strengthText() {\n      if (this.passwordStrength <= 25) return '弱';\n      if (this.passwordStrength <= 50) return '中';\n      if (this.passwordStrength <= 75) return '良好';\n      return '强';\n    }\n  },\n  methods: {\n    async register() {\n      if (this.password !== this.confirmPassword) {\n        alert('两次输入的密码不一致');\n        return;\n      }\n      this.loading = true;\n      try {\n        await axios.post(`${API}/register`, {\n          username: this.username,\n          email: this.email,\n          password: this.password\n        });\n        alert('注册成功！请登录');\n        this.$router.push('/login');\n      } catch (error) {\n        handleApiError(error, () => {\n          if (error.response?.data?.message) {\n            alert(error.response.data.message);\n          } else {\n            alert('注册失败，请重试');\n          }\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}