{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { ElMessage } from 'element-plus';\nconst API = process.env.VUE_APP_BASE_URL;\nexport default {\n  name: 'AdminManageVotes',\n  data() {\n    return {\n      votes: [],\n      loading: false,\n      showCreateForm: false,\n      newVote: {\n        title: '',\n        description: '',\n        options: ['', '']\n      }\n    };\n  },\n  created() {\n    // 检查权限\n    const token = localStorage.getItem('token');\n    const userRole = localStorage.getItem('userRole');\n    if (!token || userRole !== 'admin') {\n      this.$router.push('/');\n      return;\n    }\n    this.fetchVotes();\n  },\n  methods: {\n    async fetchVotes() {\n      this.loading = true;\n      try {\n        const token = localStorage.getItem('token');\n        console.log('开始获取投票列表');\n        const response = await axios.get(`${API}/api/canteen/votes`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        console.log('获取到的投票数据:', response.data);\n\n        // 确保每个投票都有选项数组\n        this.votes = response.data.map(vote => ({\n          ...vote,\n          options: Array.isArray(vote.options) ? vote.options : []\n        }));\n        console.log('处理后的投票数据:', this.votes);\n      } catch (error) {\n        console.error('获取投票失败:', error);\n        if (error.response?.status === 401) {\n          // 如果是未授权错误，清除本地存储并跳转到登录页\n          localStorage.removeItem('token');\n          localStorage.removeItem('userRole');\n          this.$router.push('/login');\n        }\n        ElMessage.error(error.response?.data?.message || '获取投票列表失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n    async deleteVote(voteId) {\n      if (!confirm('确定要删除这个投票吗？此操作不可恢复，所有投票记录都将被删除。')) {\n        return;\n      }\n      try {\n        console.log(`开始删除投票 ID: ${voteId}`);\n        const token = localStorage.getItem('token');\n        await axios.delete(`${API}/api/canteen/votes/${voteId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        ElMessage.success('投票删除成功');\n        // 从列表中移除已删除的投票\n        this.votes = this.votes.filter(vote => vote.id !== voteId);\n      } catch (error) {\n        console.error('删除投票失败:', error);\n        console.error('错误详情:', error.response?.data || error.message);\n        if (error.response?.status === 401) {\n          ElMessage.error('权限不足，请确保您已登录并具有管理员权限');\n        } else if (error.response?.data?.message) {\n          ElMessage.error(error.response.data.message);\n        } else {\n          ElMessage.error('删除投票失败，请稍后重试');\n        }\n      }\n    },\n    addOption() {\n      this.newVote.options.push('');\n    },\n    removeOption(index) {\n      if (this.newVote.options.length > 2) {\n        this.newVote.options.splice(index, 1);\n      } else {\n        ElMessage.warning('至少需要两个选项');\n      }\n    },\n    async submitNewVote() {\n      if (!this.validateForm()) {\n        return;\n      }\n      try {\n        console.log('准备提交的投票数据:', this.newVote);\n        const token = localStorage.getItem('token');\n        const response = await axios.post(`${API}/api/canteen/votes`, {\n          ...this.newVote,\n          options: this.newVote.options.filter(opt => opt.trim()) // 过滤空选项\n        }, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        console.log('创建投票响应:', response.data);\n        ElMessage.success('投票创建成功');\n        this.showCreateForm = false;\n        this.resetForm();\n        this.fetchVotes();\n      } catch (error) {\n        console.error('创建投票失败:', error);\n        console.error('错误详情:', error.response?.data || error.message);\n        ElMessage.error(error.response?.data?.message || '创建投票失败');\n      }\n    },\n    validateForm() {\n      if (!this.newVote.title.trim()) {\n        ElMessage.warning('请输入投票标题');\n        return false;\n      }\n      if (!this.newVote.description.trim()) {\n        ElMessage.warning('请输入投票描述');\n        return false;\n      }\n      if (this.newVote.options.some(option => !option.trim())) {\n        ElMessage.warning('请填写所有选项');\n        return false;\n      }\n      return true;\n    },\n    resetForm() {\n      this.newVote = {\n        title: '',\n        description: '',\n        options: ['', '']\n      };\n    },\n    cancelCreate() {\n      this.showCreateForm = false;\n      this.resetForm();\n    },\n    getPercentage(count, total) {\n      if (!total) return 0;\n      return count / total * 100;\n    },\n    getBarColor(index) {\n      // 预定义一些好看的颜色\n      const colors = ['#409EFF',\n      // 蓝色\n      '#67C23A',\n      // 绿色\n      '#E6A23C',\n      // 橙色\n      '#F56C6C',\n      // 红色\n      '#909399' // 灰色\n      ];\n      return colors[index % colors.length];\n    }\n  }\n};","map":{"version":3,"names":["axios","ElMessage","API","process","env","VUE_APP_BASE_URL","name","data","votes","loading","showCreateForm","newVote","title","description","options","created","token","localStorage","getItem","userRole","$router","push","fetchVotes","methods","console","log","response","get","headers","map","vote","Array","isArray","error","status","removeItem","message","deleteVote","voteId","confirm","delete","success","filter","id","addOption","removeOption","index","length","splice","warning","submitNewVote","validateForm","post","opt","trim","resetForm","some","option","cancelCreate","getPercentage","count","total","getBarColor","colors"],"sources":["C:\\Users\\拯救者\\Desktop\\text\\community-service\\src\\components\\AdminManageVotes.vue"],"sourcesContent":["<template>\n  <div>\n    <h2>管理投票</h2>\n    <div v-if=\"loading\" class=\"loading\">\n      <span>加载中...</span>\n    </div>\n    <div v-else>\n      <div class=\"create-vote-section\" v-if=\"showCreateForm\">\n        <h3>创建新投票</h3>\n        <div class=\"form-group\">\n          <label>标题：</label>\n          <input v-model=\"newVote.title\" class=\"form-input\" placeholder=\"请输入投票标题\">\n        </div>\n        <div class=\"form-group\">\n          <label>描述：</label>\n          <textarea v-model=\"newVote.description\" class=\"form-input\" placeholder=\"请输入投票描述\"></textarea>\n        </div>\n        <div class=\"form-group\">\n          <label>选项：</label>\n          <div v-for=\"(option, index) in newVote.options\" :key=\"index\" class=\"option-input\">\n            <input v-model=\"newVote.options[index]\" class=\"form-input\" :placeholder=\"'选项 ' + (index + 1)\">\n            <button @click=\"removeOption(index)\" class=\"remove-option-btn\">删除</button>\n          </div>\n          <button @click=\"addOption\" class=\"add-option-btn\">添加选项</button>\n        </div>\n        <div class=\"form-actions\">\n          <button @click=\"submitNewVote\" class=\"submit-btn\">创建投票</button>\n          <button @click=\"cancelCreate\" class=\"cancel-btn\">取消</button>\n        </div>\n      </div>\n\n      <div v-else class=\"vote-list\">\n        <div v-for=\"vote in votes\" :key=\"vote.id\" class=\"vote-item\">\n          <div class=\"vote-info\">\n            <h3>{{ vote.title }}</h3>\n            <p>{{ vote.description }}</p>\n            <div class=\"vote-options\">\n              <h4>投票选项：</h4>\n              <div class=\"options-list\">\n                <div v-for=\"(option, index) in vote.options\" :key=\"index\" class=\"option-result\">\n                  <div class=\"option-label\">\n                    {{ option }}\n                    <span class=\"vote-count\">({{ vote.results[option] || 0 }}票)</span>\n                  </div>\n                  <div class=\"result-bar-container\">\n                    <div \n                      class=\"result-bar\" \n                      :style=\"{ \n                        width: getPercentage(vote.results[option], vote.totalVotes) + '%',\n                        backgroundColor: getBarColor(index)\n                      }\"\n                    ></div>\n                    <span class=\"result-count\">\n                      {{ ((vote.results[option] || 0) / (vote.totalVotes || 1) * 100).toFixed(1) }}%\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <p class=\"total-votes\">总投票数：{{ vote.totalVotes || 0 }}</p>\n            </div>\n          </div>\n          <div class=\"vote-actions\">\n            <button class=\"delete-btn\" @click=\"deleteVote(vote.id)\">删除投票</button>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"action-bar\">\n        <button v-if=\"!showCreateForm\" class=\"create-btn\" @click=\"showCreateForm = true\">创建新投票</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { ElMessage } from 'element-plus';\nconst API = process.env.VUE_APP_BASE_URL;\n\nexport default {\n  name: 'AdminManageVotes',\n  data() {\n    return {\n      votes: [],\n      loading: false,\n      showCreateForm: false,\n      newVote: {\n        title: '',\n        description: '',\n        options: ['', '']\n      }\n    };\n  },\n  created() {\n    // 检查权限\n    const token = localStorage.getItem('token');\n    const userRole = localStorage.getItem('userRole');\n    \n    if (!token || userRole !== 'admin') {\n      this.$router.push('/');\n      return;\n    }\n    \n    this.fetchVotes();\n  },\n  methods: {\n    async fetchVotes() {\n      this.loading = true;\n      try {\n        const token = localStorage.getItem('token');\n        console.log('开始获取投票列表');\n        const response = await axios.get(`${API}/api/canteen/votes`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        console.log('获取到的投票数据:', response.data);\n        \n        // 确保每个投票都有选项数组\n        this.votes = response.data.map(vote => ({\n          ...vote,\n          options: Array.isArray(vote.options) ? vote.options : []\n        }));\n        console.log('处理后的投票数据:', this.votes);\n      } catch (error) {\n        console.error('获取投票失败:', error);\n        if (error.response?.status === 401) {\n          // 如果是未授权错误，清除本地存储并跳转到登录页\n          localStorage.removeItem('token');\n          localStorage.removeItem('userRole');\n          this.$router.push('/login');\n        }\n        ElMessage.error(error.response?.data?.message || '获取投票列表失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async deleteVote(voteId) {\n      if (!confirm('确定要删除这个投票吗？此操作不可恢复，所有投票记录都将被删除。')) {\n        return;\n      }\n\n      try {\n        console.log(`开始删除投票 ID: ${voteId}`);\n        const token = localStorage.getItem('token');\n        await axios.delete(`${API}/api/canteen/votes/${voteId}`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        \n        ElMessage.success('投票删除成功');\n        // 从列表中移除已删除的投票\n        this.votes = this.votes.filter(vote => vote.id !== voteId);\n      } catch (error) {\n        console.error('删除投票失败:', error);\n        console.error('错误详情:', error.response?.data || error.message);\n        \n        if (error.response?.status === 401) {\n          ElMessage.error('权限不足，请确保您已登录并具有管理员权限');\n        } else if (error.response?.data?.message) {\n          ElMessage.error(error.response.data.message);\n        } else {\n          ElMessage.error('删除投票失败，请稍后重试');\n        }\n      }\n    },\n\n    addOption() {\n      this.newVote.options.push('');\n    },\n\n    removeOption(index) {\n      if (this.newVote.options.length > 2) {\n        this.newVote.options.splice(index, 1);\n      } else {\n        ElMessage.warning('至少需要两个选项');\n      }\n    },\n\n    async submitNewVote() {\n      if (!this.validateForm()) {\n        return;\n      }\n\n      try {\n        console.log('准备提交的投票数据:', this.newVote);\n        const token = localStorage.getItem('token');\n        const response = await axios.post(`${API}/api/canteen/votes`, {\n          ...this.newVote,\n          options: this.newVote.options.filter(opt => opt.trim()) // 过滤空选项\n        }, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        console.log('创建投票响应:', response.data);\n        ElMessage.success('投票创建成功');\n        this.showCreateForm = false;\n        this.resetForm();\n        this.fetchVotes();\n      } catch (error) {\n        console.error('创建投票失败:', error);\n        console.error('错误详情:', error.response?.data || error.message);\n        ElMessage.error(error.response?.data?.message || '创建投票失败');\n      }\n    },\n\n    validateForm() {\n      if (!this.newVote.title.trim()) {\n        ElMessage.warning('请输入投票标题');\n        return false;\n      }\n      if (!this.newVote.description.trim()) {\n        ElMessage.warning('请输入投票描述');\n        return false;\n      }\n      if (this.newVote.options.some(option => !option.trim())) {\n        ElMessage.warning('请填写所有选项');\n        return false;\n      }\n      return true;\n    },\n\n    resetForm() {\n      this.newVote = {\n        title: '',\n        description: '',\n        options: ['', '']\n      };\n    },\n\n    cancelCreate() {\n      this.showCreateForm = false;\n      this.resetForm();\n    },\n\n    getPercentage(count, total) {\n      if (!total) return 0;\n      return (count / total) * 100;\n    },\n\n    getBarColor(index) {\n      // 预定义一些好看的颜色\n      const colors = [\n        '#409EFF', // 蓝色\n        '#67C23A', // 绿色\n        '#E6A23C', // 橙色\n        '#F56C6C', // 红色\n        '#909399', // 灰色\n      ];\n      return colors[index % colors.length];\n    },\n  }\n};\n</script>\n\n<style scoped>\n.vote-list {\n  margin: 20px 0;\n}\n\n.vote-item {\n  background: #fff;\n  border-radius: 8px;\n  padding: 20px;\n  margin-bottom: 15px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.vote-info h3 {\n  margin: 0 0 10px 0;\n  color: #333;\n}\n\n.vote-info p {\n  color: #666;\n  margin-bottom: 15px;\n}\n\n.vote-options {\n  margin-top: 20px;\n}\n\n.vote-options h4 {\n  margin: 0 0 10px 0;\n  color: #333;\n}\n\n.options-list {\n  margin-top: 10px;\n}\n\n.option-result {\n  margin-bottom: 10px;\n}\n\n.option-label {\n  font-weight: 500;\n  margin-bottom: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.vote-count {\n  color: #666;\n  font-size: 0.9em;\n  margin-left: 10px;\n}\n\n.result-bar-container {\n  background: #f5f7fa;\n  border-radius: 4px;\n  height: 24px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.result-bar {\n  height: 100%;\n  transition: width 0.3s ease;\n  min-width: 2%;\n  border-radius: 4px;\n}\n\n.result-count {\n  position: absolute;\n  right: 10px;\n  color: #333;\n  font-size: 0.9em;\n  z-index: 1;\n}\n\n.total-votes {\n  margin-top: 15px;\n  color: #666;\n  font-weight: 500;\n}\n\n.vote-actions {\n  margin-top: 15px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.delete-btn {\n  padding: 8px 15px;\n  background: #f56c6c;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.delete-btn:hover {\n  background: #f78989;\n}\n\n.action-bar {\n  margin-top: 20px;\n  text-align: right;\n}\n\n.create-btn {\n  padding: 10px 20px;\n  background-color: #409eff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.create-btn:hover {\n  background-color: #66b1ff;\n}\n\n.loading {\n  text-align: center;\n  padding: 20px;\n  color: #666;\n}\n\n.create-vote-section {\n  background: white;\n  border-radius: 8px;\n  padding: 20px;\n  margin-bottom: 20px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 8px;\n  color: #333;\n  font-weight: 500;\n}\n\n.form-input {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  margin-bottom: 8px;\n  font-size: 14px;\n}\n\ntextarea.form-input {\n  min-height: 100px;\n  resize: vertical;\n}\n\n.option-input {\n  display: flex;\n  gap: 10px;\n  margin-bottom: 10px;\n}\n\n.option-input .form-input {\n  margin-bottom: 0;\n}\n\n.remove-option-btn {\n  padding: 8px 16px;\n  background-color: #f56c6c;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.add-option-btn {\n  padding: 8px 16px;\n  background-color: #67c23a;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 10px;\n}\n\n.form-actions {\n  display: flex;\n  gap: 10px;\n  justify-content: flex-end;\n  margin-top: 20px;\n}\n\n.submit-btn {\n  padding: 10px 20px;\n  background-color: #409eff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.cancel-btn {\n  padding: 10px 20px;\n  background-color: #909399;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n</style>"],"mappings":";AA2EA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,SAAQ,QAAS,cAAc;AACxC,MAAMC,GAAE,GAAIC,OAAO,CAACC,GAAG,CAACC,gBAAgB;AAExC,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,KAAK;MACdC,cAAc,EAAE,KAAK;MACrBC,OAAO,EAAE;QACPC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE;MAClB;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,QAAO,GAAIF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAEjD,IAAI,CAACF,KAAI,IAAKG,QAAO,KAAM,OAAO,EAAE;MAClC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACtB;IACF;IAEA,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,UAAUA,CAAA,EAAG;MACjB,IAAI,CAACb,OAAM,GAAI,IAAI;MACnB,IAAI;QACF,MAAMO,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3CM,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;QACvB,MAAMC,QAAO,GAAI,MAAM1B,KAAK,CAAC2B,GAAG,CAAC,GAAGzB,GAAG,oBAAoB,EAAE;UAC3D0B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUZ,KAAK;UAClC;QACF,CAAC,CAAC;QACFQ,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEC,QAAQ,CAACnB,IAAI,CAAC;;QAEvC;QACA,IAAI,CAACC,KAAI,GAAIkB,QAAQ,CAACnB,IAAI,CAACsB,GAAG,CAACC,IAAG,KAAM;UACtC,GAAGA,IAAI;UACPhB,OAAO,EAAEiB,KAAK,CAACC,OAAO,CAACF,IAAI,CAAChB,OAAO,IAAIgB,IAAI,CAAChB,OAAM,GAAI;QACxD,CAAC,CAAC,CAAC;QACHU,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE,IAAI,CAACjB,KAAK,CAAC;MACtC,EAAE,OAAOyB,KAAK,EAAE;QACdT,OAAO,CAACS,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,IAAIA,KAAK,CAACP,QAAQ,EAAEQ,MAAK,KAAM,GAAG,EAAE;UAClC;UACAjB,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC;UAChClB,YAAY,CAACkB,UAAU,CAAC,UAAU,CAAC;UACnC,IAAI,CAACf,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B;QACApB,SAAS,CAACgC,KAAK,CAACA,KAAK,CAACP,QAAQ,EAAEnB,IAAI,EAAE6B,OAAM,IAAK,UAAU,CAAC;MAC9D,UAAU;QACR,IAAI,CAAC3B,OAAM,GAAI,KAAK;MACtB;IACF,CAAC;IAED,MAAM4B,UAAUA,CAACC,MAAM,EAAE;MACvB,IAAI,CAACC,OAAO,CAAC,iCAAiC,CAAC,EAAE;QAC/C;MACF;MAEA,IAAI;QACFf,OAAO,CAACC,GAAG,CAAC,cAAca,MAAM,EAAE,CAAC;QACnC,MAAMtB,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMlB,KAAK,CAACwC,MAAM,CAAC,GAAGtC,GAAG,sBAAsBoC,MAAM,EAAE,EAAE;UACvDV,OAAO,EAAE;YACP,eAAe,EAAE,UAAUZ,KAAK;UAClC;QACF,CAAC,CAAC;QAEFf,SAAS,CAACwC,OAAO,CAAC,QAAQ,CAAC;QAC3B;QACA,IAAI,CAACjC,KAAI,GAAI,IAAI,CAACA,KAAK,CAACkC,MAAM,CAACZ,IAAG,IAAKA,IAAI,CAACa,EAAC,KAAML,MAAM,CAAC;MAC5D,EAAE,OAAOL,KAAK,EAAE;QACdT,OAAO,CAACS,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/BT,OAAO,CAACS,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACP,QAAQ,EAAEnB,IAAG,IAAK0B,KAAK,CAACG,OAAO,CAAC;QAE7D,IAAIH,KAAK,CAACP,QAAQ,EAAEQ,MAAK,KAAM,GAAG,EAAE;UAClCjC,SAAS,CAACgC,KAAK,CAAC,sBAAsB,CAAC;QACzC,OAAO,IAAIA,KAAK,CAACP,QAAQ,EAAEnB,IAAI,EAAE6B,OAAO,EAAE;UACxCnC,SAAS,CAACgC,KAAK,CAACA,KAAK,CAACP,QAAQ,CAACnB,IAAI,CAAC6B,OAAO,CAAC;QAC9C,OAAO;UACLnC,SAAS,CAACgC,KAAK,CAAC,cAAc,CAAC;QACjC;MACF;IACF,CAAC;IAEDW,SAASA,CAAA,EAAG;MACV,IAAI,CAACjC,OAAO,CAACG,OAAO,CAACO,IAAI,CAAC,EAAE,CAAC;IAC/B,CAAC;IAEDwB,YAAYA,CAACC,KAAK,EAAE;MAClB,IAAI,IAAI,CAACnC,OAAO,CAACG,OAAO,CAACiC,MAAK,GAAI,CAAC,EAAE;QACnC,IAAI,CAACpC,OAAO,CAACG,OAAO,CAACkC,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MACvC,OAAO;QACL7C,SAAS,CAACgD,OAAO,CAAC,UAAU,CAAC;MAC/B;IACF,CAAC;IAED,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI,CAAC,IAAI,CAACC,YAAY,CAAC,CAAC,EAAE;QACxB;MACF;MAEA,IAAI;QACF3B,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACd,OAAO,CAAC;QACvC,MAAMK,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMQ,QAAO,GAAI,MAAM1B,KAAK,CAACoD,IAAI,CAAC,GAAGlD,GAAG,oBAAoB,EAAE;UAC5D,GAAG,IAAI,CAACS,OAAO;UACfG,OAAO,EAAE,IAAI,CAACH,OAAO,CAACG,OAAO,CAAC4B,MAAM,CAACW,GAAE,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,EAAE;QAC1D,CAAC,EAAE;UACD1B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUZ,KAAK;UAClC;QACF,CAAC,CAAC;QACFQ,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEC,QAAQ,CAACnB,IAAI,CAAC;QACrCN,SAAS,CAACwC,OAAO,CAAC,QAAQ,CAAC;QAC3B,IAAI,CAAC/B,cAAa,GAAI,KAAK;QAC3B,IAAI,CAAC6C,SAAS,CAAC,CAAC;QAChB,IAAI,CAACjC,UAAU,CAAC,CAAC;MACnB,EAAE,OAAOW,KAAK,EAAE;QACdT,OAAO,CAACS,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/BT,OAAO,CAACS,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACP,QAAQ,EAAEnB,IAAG,IAAK0B,KAAK,CAACG,OAAO,CAAC;QAC7DnC,SAAS,CAACgC,KAAK,CAACA,KAAK,CAACP,QAAQ,EAAEnB,IAAI,EAAE6B,OAAM,IAAK,QAAQ,CAAC;MAC5D;IACF,CAAC;IAEDe,YAAYA,CAAA,EAAG;MACb,IAAI,CAAC,IAAI,CAACxC,OAAO,CAACC,KAAK,CAAC0C,IAAI,CAAC,CAAC,EAAE;QAC9BrD,SAAS,CAACgD,OAAO,CAAC,SAAS,CAAC;QAC5B,OAAO,KAAK;MACd;MACA,IAAI,CAAC,IAAI,CAACtC,OAAO,CAACE,WAAW,CAACyC,IAAI,CAAC,CAAC,EAAE;QACpCrD,SAAS,CAACgD,OAAO,CAAC,SAAS,CAAC;QAC5B,OAAO,KAAK;MACd;MACA,IAAI,IAAI,CAACtC,OAAO,CAACG,OAAO,CAAC0C,IAAI,CAACC,MAAK,IAAK,CAACA,MAAM,CAACH,IAAI,CAAC,CAAC,CAAC,EAAE;QACvDrD,SAAS,CAACgD,OAAO,CAAC,SAAS,CAAC;QAC5B,OAAO,KAAK;MACd;MACA,OAAO,IAAI;IACb,CAAC;IAEDM,SAASA,CAAA,EAAG;MACV,IAAI,CAAC5C,OAAM,GAAI;QACbC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE;MAClB,CAAC;IACH,CAAC;IAED4C,YAAYA,CAAA,EAAG;MACb,IAAI,CAAChD,cAAa,GAAI,KAAK;MAC3B,IAAI,CAAC6C,SAAS,CAAC,CAAC;IAClB,CAAC;IAEDI,aAAaA,CAACC,KAAK,EAAEC,KAAK,EAAE;MAC1B,IAAI,CAACA,KAAK,EAAE,OAAO,CAAC;MACpB,OAAQD,KAAI,GAAIC,KAAK,GAAI,GAAG;IAC9B,CAAC;IAEDC,WAAWA,CAAChB,KAAK,EAAE;MACjB;MACA,MAAMiB,MAAK,GAAI,CACb,SAAS;MAAE;MACX,SAAS;MAAE;MACX,SAAS;MAAE;MACX,SAAS;MAAE;MACX,SAAS,CAAE;MAAA,CACZ;MACD,OAAOA,MAAM,CAACjB,KAAI,GAAIiB,MAAM,CAAChB,MAAM,CAAC;IACtC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}