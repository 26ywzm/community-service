{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"profile-container\"\n};\nconst _hoisted_2 = {\n  class: \"profile-card\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"not-logged-in\"\n};\nconst _hoisted_4 = {\n  class: \"auth-buttons\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"loading-section\"\n};\nconst _hoisted_6 = {\n  key: 2,\n  class: \"profile-content\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"message error\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"message success\"\n};\nconst _hoisted_9 = {\n  key: 2,\n  class: \"user-info\"\n};\nconst _hoisted_10 = {\n  class: \"avatar-section\"\n};\nconst _hoisted_11 = {\n  class: \"avatar-overlay\"\n};\nconst _hoisted_12 = {\n  class: \"info-section\"\n};\nconst _hoisted_13 = {\n  class: \"info-item\"\n};\nconst _hoisted_14 = {\n  class: \"info-value\"\n};\nconst _hoisted_15 = {\n  class: \"info-item\"\n};\nconst _hoisted_16 = {\n  class: \"info-value\"\n};\nconst _hoisted_17 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_18 = {\n  class: \"form-group\"\n};\nconst _hoisted_19 = {\n  class: \"form-group\"\n};\nconst _hoisted_20 = {\n  class: \"form-group\"\n};\nconst _hoisted_21 = {\n  class: \"form-group\"\n};\nconst _hoisted_22 = {\n  class: \"form-group\"\n};\nconst _hoisted_23 = {\n  class: \"file-upload\"\n};\nconst _hoisted_24 = {\n  key: 0,\n  class: \"file-name\"\n};\nconst _hoisted_25 = {\n  class: \"form-actions\"\n};\nconst _hoisted_26 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [!$data.isLoggedIn ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[12] || (_cache[12] = _createElementVNode(\"h2\", null, \"欢迎来到社区\", -1)), _cache[13] || (_cache[13] = _createElementVNode(\"p\", null, \"登录或注册以开始您的社区之旅\", -1)), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/login\",\n    class: \"auth-button login-btn\"\n  }, {\n    default: _withCtx(() => _cache[10] || (_cache[10] = [_createElementVNode(\"span\", {\n      class: \"button-icon\"\n    }, \"🔑\", -1), _createTextVNode(\" 登录 \")])),\n    _: 1\n  }), _createVNode(_component_router_link, {\n    to: \"/register\",\n    class: \"auth-button login-btn\"\n  }, {\n    default: _withCtx(() => _cache[11] || (_cache[11] = [_createElementVNode(\"span\", {\n      class: \"button-icon\"\n    }, \"✨\", -1), _createTextVNode(\" 注册 \")])),\n    _: 1\n  })])])) : $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _cache[14] || (_cache[14] = [_createElementVNode(\"div\", {\n    class: \"loading-spinner\"\n  }, null, -1), _createElementVNode(\"p\", null, \"正在加载您的个人信息...\", -1)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [$data.loadError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_cache[15] || (_cache[15] = _createElementVNode(\"span\", {\n    class: \"message-icon\"\n  }, \"⚠️\", -1)), _createElementVNode(\"span\", null, _toDisplayString($data.loadError), 1), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.retryLoad && $options.retryLoad(...args)),\n    class: \"btn small\"\n  }, \"重试\")])) : _createCommentVNode(\"\", true), $data.updateSuccess ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_cache[16] || (_cache[16] = _createElementVNode(\"span\", {\n    class: \"message-icon\"\n  }, \"✅\", -1)), _createElementVNode(\"span\", null, _toDisplayString($data.updateSuccess), 1)])) : _createCommentVNode(\"\", true), !$data.editMode ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", {\n    class: \"avatar\",\n    style: _normalizeStyle({\n      backgroundImage: `url(${$data.userInfo.avatar || '/default-avatar.png'})`\n    })\n  }, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"span\", {\n    class: _normalizeClass([\"role-badge\", $data.userInfo.role])\n  }, _toDisplayString($options.formatRole($data.userInfo.role)), 3)])], 4)]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"h2\", null, _toDisplayString($data.userInfo.username), 1), _createElementVNode(\"div\", _hoisted_13, [_cache[17] || (_cache[17] = _createElementVNode(\"span\", {\n    class: \"info-icon\"\n  }, \"📧\", -1)), _cache[18] || (_cache[18] = _createElementVNode(\"span\", {\n    class: \"info-label\"\n  }, \"邮箱：\", -1)), _createElementVNode(\"span\", _hoisted_14, _toDisplayString($data.userInfo.email), 1)]), _createElementVNode(\"div\", _hoisted_15, [_cache[19] || (_cache[19] = _createElementVNode(\"span\", {\n    class: \"info-icon\"\n  }, \"👑\", -1)), _cache[20] || (_cache[20] = _createElementVNode(\"span\", {\n    class: \"info-label\"\n  }, \"角色：\", -1)), _createElementVNode(\"span\", _hoisted_16, _toDisplayString($options.formatRole($data.userInfo.role)), 1)])]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"button\", {\n    class: \"btn primary\",\n    onClick: _cache[1] || (_cache[1] = $event => $data.editMode = true)\n  }, _cache[21] || (_cache[21] = [_createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"✏️\", -1), _createTextVNode(\" 编辑资料 \")])), _createElementVNode(\"button\", {\n    class: \"btn outline-danger\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args))\n  }, _cache[22] || (_cache[22] = [_createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"🚪\", -1), _createTextVNode(\" 退出登录 \")]))])])) : (_openBlock(), _createElementBlock(\"form\", {\n    key: 3,\n    class: \"edit-form\",\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.updateProfile && $options.updateProfile(...args), [\"prevent\"]))\n  }, [_cache[31] || (_cache[31] = _createElementVNode(\"h3\", null, \"编辑个人信息\", -1)), _createElementVNode(\"div\", _hoisted_18, [_cache[23] || (_cache[23] = _createElementVNode(\"label\", null, [_createElementVNode(\"span\", {\n    class: \"label-icon\"\n  }, \"👤\"), _createTextVNode(\" 用户名 \")], -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.userInfo.username = $event),\n    placeholder: \"请输入用户名\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.userInfo.username]])]), _createElementVNode(\"div\", _hoisted_19, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", null, [_createElementVNode(\"span\", {\n    class: \"label-icon\"\n  }, \"📧\"), _createTextVNode(\" 邮箱 \")], -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.userInfo.email = $event),\n    placeholder: \"请输入邮箱\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.userInfo.email]])]), _createElementVNode(\"div\", _hoisted_20, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", null, [_createElementVNode(\"span\", {\n    class: \"label-icon\"\n  }, \"🔒\"), _createTextVNode(\" 当前密码 \")], -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.currentPassword = $event),\n    placeholder: \"请输入当前密码\",\n    required: \"\"\n  }, null, 512), [[_vModelText, $data.currentPassword]])]), _createElementVNode(\"div\", _hoisted_21, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", null, [_createElementVNode(\"span\", {\n    class: \"label-icon\"\n  }, \"🔑\"), _createTextVNode(\" 新密码 \")], -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.newPassword = $event),\n    placeholder: \"如需修改密码请输入新密码\"\n  }, null, 512), [[_vModelText, $data.newPassword]])]), _createElementVNode(\"div\", _hoisted_22, [_cache[28] || (_cache[28] = _createElementVNode(\"label\", null, [_createElementVNode(\"span\", {\n    class: \"label-icon\"\n  }, \"🖼️\"), _createTextVNode(\" 头像 \")], -1)), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[7] || (_cache[7] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args)),\n    accept: \"image/*\",\n    id: \"avatar-upload\"\n  }, null, 32), _cache[27] || (_cache[27] = _createElementVNode(\"label\", {\n    for: \"avatar-upload\",\n    class: \"file-upload-label\"\n  }, [_createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"📤\"), _createTextVNode(\" 选择图片 \")], -1)), $data.file ? (_openBlock(), _createElementBlock(\"span\", _hoisted_24, _toDisplayString($data.file.name), 1)) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn primary\",\n    disabled: $data.loading\n  }, [_cache[29] || (_cache[29] = _createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"💾\", -1)), _createTextVNode(\" \" + _toDisplayString($data.loading ? '保存中...' : '保存修改'), 1)], 8, _hoisted_26), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn secondary\",\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.cancelEdit && $options.cancelEdit(...args))\n  }, _cache[30] || (_cache[30] = [_createElementVNode(\"span\", {\n    class: \"btn-icon\"\n  }, \"✖️\", -1), _createTextVNode(\" 取消 \")]))])], 32))]))])]);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}