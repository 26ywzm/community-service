{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"create-vote-section\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = [\"onUpdate:modelValue\", \"placeholder\"];\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = {\n  class: \"form-actions\"\n};\nconst _hoisted_10 = {\n  key: 1,\n  class: \"vote-list\"\n};\nconst _hoisted_11 = {\n  class: \"vote-info\"\n};\nconst _hoisted_12 = {\n  class: \"vote-options\"\n};\nconst _hoisted_13 = {\n  class: \"options-list\"\n};\nconst _hoisted_14 = {\n  class: \"option-label\"\n};\nconst _hoisted_15 = {\n  class: \"vote-count\"\n};\nconst _hoisted_16 = {\n  class: \"result-bar-container\"\n};\nconst _hoisted_17 = {\n  class: \"result-count\"\n};\nconst _hoisted_18 = {\n  class: \"total-votes\"\n};\nconst _hoisted_19 = {\n  class: \"vote-actions\"\n};\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = {\n  class: \"action-bar\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"h2\", null, \"管理投票\", -1)), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _cache[6] || (_cache[6] = [_createElementVNode(\"span\", null, \"加载中...\", -1)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [$data.showCreateForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"h3\", null, \"创建新投票\", -1)), _createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", null, \"标题：\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newVote.title = $event),\n    class: \"form-input\",\n    placeholder: \"请输入投票标题\"\n  }, null, 512), [[_vModelText, $data.newVote.title]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", null, \"描述：\", -1)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newVote.description = $event),\n    class: \"form-input\",\n    placeholder: \"请输入投票描述\"\n  }, null, 512), [[_vModelText, $data.newVote.description]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", null, \"选项：\", -1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.newVote.options, (option, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"option-input\"\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": $event => $data.newVote.options[index] = $event,\n      class: \"form-input\",\n      placeholder: '选项 ' + (index + 1)\n    }, null, 8, _hoisted_7), [[_vModelText, $data.newVote.options[index]]]), _createElementVNode(\"button\", {\n      onClick: $event => $options.removeOption(index),\n      class: \"remove-option-btn\"\n    }, \"删除\", 8, _hoisted_8)]);\n  }), 128)), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.addOption && $options.addOption(...args)),\n    class: \"add-option-btn\"\n  }, \"添加选项\")]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.submitNewVote && $options.submitNewVote(...args)),\n    class: \"submit-btn\"\n  }, \"创建投票\"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.cancelCreate && $options.cancelCreate(...args)),\n    class: \"cancel-btn\"\n  }, \"取消\")])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.votes, vote => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: vote.id,\n      class: \"vote-item\"\n    }, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h3\", null, _toDisplayString(vote.title), 1), _createElementVNode(\"p\", null, _toDisplayString(vote.description), 1), _createElementVNode(\"div\", _hoisted_12, [_cache[11] || (_cache[11] = _createElementVNode(\"h4\", null, \"投票选项：\", -1)), _createElementVNode(\"div\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(vote.options, (option, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"option-result\"\n      }, [_createElementVNode(\"div\", _hoisted_14, [_createTextVNode(_toDisplayString(option) + \" \", 1), _createElementVNode(\"span\", _hoisted_15, \"(\" + _toDisplayString(vote.results[option] || 0) + \"票)\", 1)]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", {\n        class: \"result-bar\",\n        style: _normalizeStyle({\n          width: $options.getPercentage(vote.results[option], vote.totalVotes) + '%',\n          backgroundColor: $options.getBarColor(index)\n        })\n      }, null, 4), _createElementVNode(\"span\", _hoisted_17, _toDisplayString(((vote.results[option] || 0) / (vote.totalVotes || 1) * 100).toFixed(1)) + \"% \", 1)])]);\n    }), 128))]), _createElementVNode(\"p\", _hoisted_18, \"总投票数：\" + _toDisplayString(vote.totalVotes || 0), 1)])]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n      class: \"delete-btn\",\n      onClick: $event => $options.deleteVote(vote.id)\n    }, \"删除投票\", 8, _hoisted_20)])]);\n  }), 128))])), _createElementVNode(\"div\", _hoisted_21, [!$data.showCreateForm ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"create-btn\",\n    onClick: _cache[5] || (_cache[5] = $event => $data.showCreateForm = true)\n  }, \"创建新投票\")) : _createCommentVNode(\"\", true)])]))]);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}